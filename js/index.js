'use strict';$(document).ready(function(){function a(h){h?(e.removeClass('fa-circle-o-notch fa-spin').addClass('fa-search'),d.removeAttr('disabled'),c.removeAttr('disabled')):(e.removeClass('fa-search').addClass('fa-circle-o-notch fa-spin'),d.attr('disabled','disabled'),c.attr('disabled','disabled'))}function b(h){f.empty();var j='https://en.wikipedia.org/w/api.php?action=opensearch&limit=5&search='+h+'&format=json&callback=?';$.getJSON(j,function(k){var l=k[1],m=k[2],n=k[3];k[1].length?l.forEach(function(o,p){f.append('\n            <div class="entry">\n              <div class="title"><a href="'+n[p]+'" target="_blank">'+l[p]+'</a></div>\n              <div class="info">'+m[p]+'</div>\n            </div>\n            ')}):f.append('<div class="entry"><div class="title">No results found.</div></div>')}).done(function(){f.append('Retrieved from: '+j+'<br>'),f.removeClass('fadeOutUp').addClass('fadeInDown'),a(!0)}).fail(function(){f.append('<div class="entry"><div class="title">An error has occurred. Please try again later.</div></div>'),a(!0)})}var c=$('#searchBox'),d=$('#searchBtn'),e=$('#searchIcon'),f=$('.results'),g='';d.mousedown(function(){return d.click()}),d.click(function(){c.blur(),a();var h=c.val().trim();c.val(h).trigger('change'),h.toLowerCase()!==g.toLowerCase()&&''!==h?(g=h.toLowerCase(),c.css('width',12*(h.length+1)+'px'),f.removeClass('fadeInDown').addClass('fadeOutUp'),setTimeout(function(){return b(h)},500)):a(!0)})});
